import { Command } from 'commander';
import { handler as handleError } from '@shopify/cli-kit/node/error';
import { diagnoseDependencies } from './utils/diagnose-dependencies.js';
export const command = new Command()
    .name('doctor')
    .description('Diagnose and fix common Node.js, iOS, Android, and React Native issues.')
    .option('--verbose', 'Print debugging messages.')
    .option('--fix', 'Attempt to fix all diagnosed issues automatically.')
    .action(async (options) => {
    try {
        const dependenciesValidationResult = await diagnoseDependencies(options.fix);
        if (dependenciesValidationResult) {
            console.log('\nâœ… The configuration for your mini is correct.');
        }
    }
    catch (err) {
        delete err.stack; // delete the stack to avoid a verbose logging in case of unhandled errors
        await handleError(err);
    }
});
//# sourceMappingURL=index.js.map