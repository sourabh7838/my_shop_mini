import path from 'node:path';
import fs from 'node:fs';
import { SemVer } from 'semver';
/**
 * Upgrade @shopify/shop-minis-runtime and a bunch of child dependencies, see release notes below.
 *
 * Diff: https://github.com/Shopify/shop-minis-cli/compare/v0.0.62...v0.0.63
 */
async function applyUpgrade() {
    const packageJsonPath = path.join(process.cwd(), 'package.json');
    const packageJsonString = fs.readFileSync(packageJsonPath, {
        encoding: 'utf-8',
    });
    const packageJson = JSON.parse(packageJsonString) || {};
    packageJson.dependencies ||= {};
    packageJson.dependencies['@shopify/shop-minis-runtime'] = '0.0.11';
    // persist updated package.json
    fs.writeFileSync(packageJsonPath, `${JSON.stringify(packageJson, null, 2)}\n`, // keep the new line at the end of the file
    {
        encoding: 'utf-8',
    });
}
const releaseNotes = [
    'Upgrade @shopify/shop-minis-runtime to v0.0.11',
    'Updated react-native from v0.71.4 to v0.71.8',
    'Updated @react-native-community/blur from v4.3.0 to v4.3.2',
    'Updated @shopify/restyle from v2.4.1 to v2.4.2',
    'Updated @shopify/shop-minis-platform-sdk from v^0.1.25 to v0.1.29',
    'Updated @types/react from v18.0.30 to v18.2.0',
    'Updated react-native-localize from v2.2.6 to v3.0.0',
    'Updated react-native-safe-area-context from v4.5.0 to v4.5.1',
    'Updated react-native-svg-transformer from v^1.0.0 to v1.0.0',
    'Updated typescript from v4.7.4 to v5.0.4',
    'Remove unused intl dependency',
];
const exports = {
    releaseNotes,
    applyUpgrade,
    version: new SemVer('0.0.63'),
};
export default exports;
//# sourceMappingURL=v0-0-63.js.map