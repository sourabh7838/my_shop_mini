import path from 'path';
import _ from 'lodash';
export const getOutputDirectory = (outputDir) => {
    const currentDirectoryName = path.basename(process.cwd());
    // The default has to be out of the 'shop-minis-cli' directory because the cli is using
    // modules but the mini is a commonjs app. Running a cjs project inside a modules project causes various issues.
    const defaultOutputDir = currentDirectoryName === 'shop-minis-cli' ? '..' : '.';
    return outputDir ?? defaultOutputDir;
};
export const getCdCommandPath = (outputDir, handle) => {
    // When running via create-shop-mini `process.cwd()` is a tmp directory so is no use
    // TODO: create-shop-mini should pass the original cwd
    const currentPath = `${process.cwd()}/`;
    const cdAbsolutePath = path.resolve(outputDir, handle);
    return cdAbsolutePath.startsWith(currentPath)
        ? cdAbsolutePath.replace(currentPath, '')
        : cdAbsolutePath;
};
export const getHandleFromName = (name) => {
    // @ts-ignore
    return _.kebabCase(name);
};
//# sourceMappingURL=index.js.map