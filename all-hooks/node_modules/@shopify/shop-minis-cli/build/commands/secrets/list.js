import { Command } from 'commander';
import { renderInfo } from '@shopify/cli-kit/node/ui';
import { handler as handleError } from '@shopify/cli-kit/node/error';
import { secretsList } from '../../data/secrets/secrets-list.js';
import { assertNetworkAndAuth } from '../../utils/common-tasks.js';
export const command = new Command()
    .name('list')
    .description('List all stored secrets.')
    .action(async () => {
    try {
        await assertNetworkAndAuth();
        const secrets = await secretsList();
        if (secrets.length === 0) {
            renderInfo({
                headline: 'No secrets available',
            });
        }
        else {
            renderInfo({
                headline: 'Available secret keys',
                body: secrets.map(secret => secret.key).join('\n'),
            });
        }
    }
    catch (error) {
        handleError(error);
    }
});
//# sourceMappingURL=list.js.map