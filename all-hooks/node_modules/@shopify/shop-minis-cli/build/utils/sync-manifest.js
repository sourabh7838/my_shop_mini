import fs from 'fs';
import path from 'path';
import { getMiniBasePath } from './path.js';
export function syncManifest(mini) {
    const manifestJsonPath = path.join(getMiniBasePath(), 'src/manifest.json');
    const manifestJsonString = fs.readFileSync(manifestJsonPath, {
        encoding: 'utf-8',
    });
    const manifestJson = JSON.parse(manifestJsonString) || {};
    // @ts-ignore
    manifestJson.handle = mini.handle;
    fs.writeFileSync(manifestJsonPath, `${JSON.stringify(manifestJson, null, 2)}\n`, {
        encoding: 'utf-8',
    });
}
//# sourceMappingURL=sync-manifest.js.map