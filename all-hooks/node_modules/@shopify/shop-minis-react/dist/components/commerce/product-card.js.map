{"version":3,"file":"product-card.js","sources":["../../../src/components/commerce/product-card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport {cva, type VariantProps} from 'class-variance-authority'\nimport {Heart} from 'lucide-react'\nimport {Slot as SlotPrimitive} from 'radix-ui'\n\nimport {useShopNavigation} from '../../hooks/navigation/useShopNavigation'\nimport {useSavedProductsActions} from '../../hooks/user/useSavedProductsActions'\nimport {formatMoney} from '../../lib/formatMoney'\nimport {cn} from '../../lib/utils'\nimport {\n  type Product,\n  type ProductVariant,\n} from '../../types/minisSDK.generated.d'\nimport {Badge} from '../atoms/badge'\nimport {Button} from '../atoms/button'\nimport {Touchable} from '../atoms/touchable'\n\nconst productCardVariants = cva(\n  'relative w-full overflow-hidden rounded-xl border border-gray-200',\n  {\n    variants: {\n      variant: {\n        default: '',\n        priceOverlay: '',\n        compact: '',\n      },\n      touchable: {\n        true: 'cursor-pointer',\n        false: '',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      touchable: true,\n    },\n  }\n)\n\n// Primitive components (building blocks)\nexport interface ProductCardRootProps\n  extends React.ComponentProps<'div'>,\n    VariantProps<typeof productCardVariants> {\n  variant?: 'default' | 'priceOverlay' | 'compact'\n  touchable?: boolean\n  asChild?: boolean\n  onPress?: () => void\n}\n\nfunction ProductCardRoot({\n  className,\n  variant,\n  touchable = true,\n  asChild = false,\n  onPress,\n  ...props\n}: ProductCardRootProps) {\n  const Comp = asChild ? SlotPrimitive.Slot : 'div'\n\n  const content = (\n    <Comp\n      className={cn(\n        productCardVariants({variant, touchable}),\n        'border-0',\n        className\n      )}\n      {...props}\n    />\n  )\n\n  if (touchable && onPress) {\n    return (\n      <Touchable\n        onClick={onPress}\n        whileTap={{opacity: 0.7}}\n        transition={{\n          opacity: {type: 'tween', duration: 0.08, ease: 'easeInOut'},\n        }}\n      >\n        {content}\n      </Touchable>\n    )\n  }\n\n  return content\n}\n\nfunction ProductCardImageContainer({\n  className,\n  variant = 'default',\n  ...props\n}: React.ComponentProps<'div'> & {\n  variant?: 'default' | 'priceOverlay' | 'compact'\n}) {\n  return (\n    <div\n      data-slot=\"product-card-image-container\"\n      className={cn(\n        // Ensure the product image is stretched to the full size of the container (can't use width/height: 100% because of flex)\n        'flex justify-stretch items-stretch',\n        'relative overflow-hidden rounded-xl border border-gray-200',\n        'w-full aspect-square',\n        variant === 'compact' ? 'min-h-[104px]' : 'min-h-[134px]',\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ProductCardImage({\n  className,\n  src,\n  alt,\n  ...props\n}: React.ComponentProps<'img'> & {\n  src?: string\n  alt?: string\n}) {\n  return (\n    <div className=\"bg-gray-100 flex items-center justify-center\">\n      {src ? (\n        <img\n          data-slot=\"product-card-image\"\n          src={src}\n          alt={alt}\n          className={cn('w-full h-full object-cover', className)}\n          {...props}\n        />\n      ) : (\n        <div className=\"text-gray-400 text-sm\">No Image</div>\n      )}\n    </div>\n  )\n}\n\nfunction ProductCardBadge({\n  className,\n  position = 'bottom-left',\n  children,\n  ...props\n}: React.ComponentProps<typeof Badge> & {\n  position?: 'top-left' | 'bottom-left'\n}) {\n  return (\n    <div\n      className={cn(\n        'absolute z-10',\n        position === 'top-left' ? 'top-3 left-3' : 'bottom-2 left-2'\n      )}\n    >\n      <Badge\n        className={cn('bg-black/50 text-white rounded', className)}\n        {...props}\n      >\n        {children}\n      </Badge>\n    </div>\n  )\n}\n\nfunction ProductCardFavoriteButton({\n  className,\n  onPress,\n  filled = false,\n  ...props\n}: React.ComponentProps<'div'> & {\n  onPress?: () => void\n  filled?: boolean\n}) {\n  return (\n    <div className={cn('absolute bottom-3 right-3 z-10', className)} {...props}>\n      <Button\n        onClick={onPress}\n        variant=\"secondary\"\n        size=\"icon\"\n        className={cn(\n          'h-8 w-8 rounded-full border-0 shadow-sm',\n          filled ? 'bg-primary' : 'bg-grayscale-l6/60 backdrop-blur-sm'\n        )}\n        stopPropagation\n      >\n        <Heart\n          fill={filled ? 'currentColor' : 'none'}\n          className=\"h-4 w-4 text-white\"\n        />\n      </Button>\n    </div>\n  )\n}\n\nfunction ProductCardInfo({\n  className,\n  variant = 'default',\n  ...props\n}: React.ComponentProps<'div'> & {\n  variant?: 'default' | 'priceOverlay' | 'compact'\n}) {\n  if (variant !== 'default') {\n    return null\n  }\n\n  return (\n    <div\n      data-slot=\"product-card-info\"\n      className={cn('px-1 pt-2 pb-0 space-y-1', className)}\n      {...props}\n    />\n  )\n}\n\nfunction ProductCardTitle({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<'h3'>) {\n  return (\n    <h3\n      data-slot=\"product-card-title\"\n      className={cn(\n        'text-sm font-medium leading-tight text-gray-900',\n        'truncate overflow-hidden whitespace-nowrap text-ellipsis',\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </h3>\n  )\n}\n\nfunction ProductCardPrice({className, ...props}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"product-card-price\"\n      className={cn('flex items-center gap-2', className)}\n      {...props}\n    />\n  )\n}\n\nfunction ProductCardCurrentPrice({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"product-card-current-price\"\n      className={cn('text-sm font-semibold text-gray-900', className)}\n      {...props}\n    />\n  )\n}\n\nfunction ProductCardOriginalPrice({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"product-card-original-price\"\n      className={cn('text-sm text-gray-500 line-through', className)}\n      {...props}\n    />\n  )\n}\n\nexport interface ProductCardProps {\n  product: Product\n  selectedProductVariant?: ProductVariant\n  variant?: 'default' | 'priceOverlay' | 'compact'\n  touchable?: boolean\n  badgeText?: string\n  badgeVariant?: 'default' | 'secondary' | 'destructive' | 'outline'\n  onFavoriteToggled?: (isFavorited: boolean) => void\n  sectionId?: string\n}\n\n// Composed ProductCard component\nfunction ProductCard({\n  product,\n  selectedProductVariant,\n  variant = 'default',\n  touchable = true,\n  badgeText,\n  badgeVariant = 'secondary',\n  onFavoriteToggled,\n}: ProductCardProps) {\n  const {navigateToProduct} = useShopNavigation()\n  const {saveProduct, unsaveProduct} = useSavedProductsActions()\n\n  const {\n    id,\n    title,\n    featuredImage,\n    price,\n    compareAtPrice,\n    isFavorited,\n    defaultVariantId,\n    shop,\n  } = product\n\n  // Use selected variant data if available\n  const displayImage = selectedProductVariant?.image || featuredImage\n  const displayPrice = selectedProductVariant?.price || price\n  const displayCompareAtPrice =\n    selectedProductVariant?.compareAtPrice || compareAtPrice\n\n  // Local state for optimistic UI updates\n  const [isFavoritedLocal, setIsFavoritedLocal] = React.useState(isFavorited)\n\n  const currencyCode = displayPrice?.currencyCode\n  const amount = displayPrice?.amount\n  const imageUrl = displayImage?.url\n  const imageAltText = displayImage?.altText || title\n  const compareAtPriceAmount = displayCompareAtPrice?.amount\n  const hasDiscount = compareAtPriceAmount && compareAtPriceAmount !== amount\n\n  const handlePress = React.useCallback(() => {\n    if (!touchable) return\n\n    navigateToProduct({\n      productId: id,\n    })\n  }, [navigateToProduct, id, touchable])\n\n  const handleFavoritePress = React.useCallback(async () => {\n    const previousState = isFavoritedLocal\n\n    // Optimistic update\n    setIsFavoritedLocal(!previousState)\n    onFavoriteToggled?.(!previousState)\n\n    try {\n      if (previousState) {\n        await unsaveProduct({\n          productId: id,\n          shopId: shop.id,\n          productVariantId: selectedProductVariant?.id || defaultVariantId,\n        })\n      } else {\n        await saveProduct({\n          productId: id,\n          shopId: shop.id,\n          productVariantId: selectedProductVariant?.id || defaultVariantId,\n        })\n      }\n    } catch (error) {\n      // Revert optimistic update on error\n      setIsFavoritedLocal(previousState)\n      onFavoriteToggled?.(previousState)\n    }\n  }, [\n    isFavoritedLocal,\n    id,\n    shop.id,\n    selectedProductVariant?.id,\n    defaultVariantId,\n    saveProduct,\n    unsaveProduct,\n    onFavoriteToggled,\n  ])\n\n  return (\n    <ProductCardRoot\n      variant={variant}\n      touchable={touchable}\n      onPress={handlePress}\n    >\n      <ProductCardImageContainer variant={variant}>\n        <ProductCardImage src={imageUrl} alt={imageAltText} />\n\n        {/* Price overlay badge for priceOverlay variant */}\n        {variant === 'priceOverlay' && currencyCode && amount && (\n          <ProductCardBadge position=\"top-left\">\n            {formatMoney(amount, currencyCode)}\n          </ProductCardBadge>\n        )}\n\n        {/* Custom badge */}\n        {badgeText && (\n          <ProductCardBadge position=\"bottom-left\" variant={badgeVariant}>\n            {badgeText}\n          </ProductCardBadge>\n        )}\n\n        {/* Favorite button */}\n        <ProductCardFavoriteButton\n          filled={isFavoritedLocal}\n          onPress={handleFavoritePress}\n        />\n      </ProductCardImageContainer>\n\n      {/* Product info for default variant */}\n      <ProductCardInfo variant={variant}>\n        <ProductCardTitle>{title}</ProductCardTitle>\n\n        <ProductCardPrice>\n          {hasDiscount ? (\n            <>\n              <ProductCardCurrentPrice>\n                {formatMoney(amount, currencyCode)}\n              </ProductCardCurrentPrice>\n              <ProductCardOriginalPrice>\n                {formatMoney(\n                  compareAtPriceAmount,\n                  displayCompareAtPrice?.currencyCode || currencyCode\n                )}\n              </ProductCardOriginalPrice>\n            </>\n          ) : (\n            <ProductCardCurrentPrice>\n              {formatMoney(amount, currencyCode)}\n            </ProductCardCurrentPrice>\n          )}\n        </ProductCardPrice>\n      </ProductCardInfo>\n    </ProductCardRoot>\n  )\n}\n\nexport {\n  // Composed component\n  ProductCard,\n  // Primitive components for custom composition\n  ProductCardRoot,\n  ProductCardImageContainer,\n  ProductCardImage,\n  ProductCardBadge,\n  ProductCardFavoriteButton,\n  ProductCardInfo,\n  ProductCardTitle,\n  ProductCardPrice,\n  ProductCardCurrentPrice,\n  ProductCardOriginalPrice,\n}\n"],"names":["productCardVariants","cva","ProductCardRoot","className","variant","touchable","asChild","onPress","props","content","jsx","SlotPrimitive.Slot","cn","Touchable","ProductCardImageContainer","ProductCardImage","src","alt","ProductCardBadge","position","children","Badge","ProductCardFavoriteButton","filled","Button","Heart","ProductCardInfo","ProductCardTitle","ProductCardPrice","ProductCardCurrentPrice","ProductCardOriginalPrice","ProductCard","product","selectedProductVariant","badgeText","badgeVariant","onFavoriteToggled","navigateToProduct","useShopNavigation","saveProduct","unsaveProduct","useSavedProductsActions","id","title","featuredImage","price","compareAtPrice","isFavorited","defaultVariantId","shop","displayImage","displayPrice","displayCompareAtPrice","isFavoritedLocal","setIsFavoritedLocal","React","currencyCode","amount","imageUrl","imageAltText","compareAtPriceAmount","hasDiscount","handlePress","handleFavoritePress","previousState","jsxs","formatMoney","Fragment"],"mappings":"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"}