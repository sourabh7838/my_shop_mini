{"version":3,"file":"useHandleAction.js","sources":["../../src/internal/useHandleAction.ts"],"sourcesContent":["import {useCallback} from 'react'\n\nimport {ShopActionResult} from '../types'\n\n// Wrapper to handle shop action results as regular promises (Reject on error)\nexport const useHandleAction = <T, Args extends unknown[]>(\n  action: (...args: Args) => Promise<ShopActionResult<T>>\n) => {\n  // TODO Add when report interaction is implemented for web\n  // const reportInteraction = useReportInteraction()\n\n  return useCallback(\n    (...args: Args) => {\n      return action(...args).then(result => {\n        if (result.ok) {\n          return result.data\n        }\n\n        throw result.error\n      })\n    },\n    [action]\n  )\n}\n"],"names":["useHandleAction","action","useCallback","args","result"],"mappings":";AAKa,MAAAA,IAAkB,CAC7BC,MAKOC;AAAA,EACL,IAAIC,MACKF,EAAO,GAAGE,CAAI,EAAE,KAAK,CAAUC,MAAA;AACpC,QAAIA,EAAO;AACT,aAAOA,EAAO;AAGhB,UAAMA,EAAO;AAAA,EAAA,CACd;AAAA,EAEH,CAACH,CAAM;AACT;"}