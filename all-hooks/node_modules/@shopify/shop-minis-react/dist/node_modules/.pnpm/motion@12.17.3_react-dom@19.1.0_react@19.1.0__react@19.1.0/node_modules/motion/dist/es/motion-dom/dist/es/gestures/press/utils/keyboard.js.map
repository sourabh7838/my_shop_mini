{"version":3,"file":"keyboard.js","sources":["../../../../../../../../../../../../../../node_modules/.pnpm/motion@12.17.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/motion/dist/es/motion-dom/dist/es/gestures/press/utils/keyboard.mjs"],"sourcesContent":["import { isPressing } from './state.mjs';\n\n/**\n * Filter out events that are not \"Enter\" keys.\n */\nfunction filterEvents(callback) {\n    return (event) => {\n        if (event.key !== \"Enter\")\n            return;\n        callback(event);\n    };\n}\nfunction firePointerEvent(target, type) {\n    target.dispatchEvent(new PointerEvent(\"pointer\" + type, { isPrimary: true, bubbles: true }));\n}\nconst enableKeyboardPress = (focusEvent, eventOptions) => {\n    const element = focusEvent.currentTarget;\n    if (!element)\n        return;\n    const handleKeydown = filterEvents(() => {\n        if (isPressing.has(element))\n            return;\n        firePointerEvent(element, \"down\");\n        const handleKeyup = filterEvents(() => {\n            firePointerEvent(element, \"up\");\n        });\n        const handleBlur = () => firePointerEvent(element, \"cancel\");\n        element.addEventListener(\"keyup\", handleKeyup, eventOptions);\n        element.addEventListener(\"blur\", handleBlur, eventOptions);\n    });\n    element.addEventListener(\"keydown\", handleKeydown, eventOptions);\n    /**\n     * Add an event listener that fires on blur to remove the keydown events.\n     */\n    element.addEventListener(\"blur\", () => element.removeEventListener(\"keydown\", handleKeydown), eventOptions);\n};\n\nexport { enableKeyboardPress };\n"],"names":["filterEvents","callback","event","firePointerEvent","target","type","enableKeyboardPress","focusEvent","eventOptions","element","handleKeydown","isPressing","handleKeyup","handleBlur"],"mappings":";AAKA,SAASA,EAAaC,GAAU;AAC5B,SAAO,CAACC,MAAU;AACd,IAAIA,EAAM,QAAQ,WAElBD,EAASC,CAAK;AAAA,EACjB;AACL;AACA,SAASC,EAAiBC,GAAQC,GAAM;AACpC,EAAAD,EAAO,cAAc,IAAI,aAAa,YAAYC,GAAM,EAAE,WAAW,IAAM,SAAS,GAAM,CAAA,CAAC;AAC/F;AACK,MAACC,IAAsB,CAACC,GAAYC,MAAiB;AACtD,QAAMC,IAAUF,EAAW;AAC3B,MAAI,CAACE;AACD;AACJ,QAAMC,IAAgBV,EAAa,MAAM;AACrC,QAAIW,EAAW,IAAIF,CAAO;AACtB;AACJ,IAAAN,EAAiBM,GAAS,MAAM;AAChC,UAAMG,IAAcZ,EAAa,MAAM;AACnC,MAAAG,EAAiBM,GAAS,IAAI;AAAA,IAC1C,CAAS,GACKI,IAAa,MAAMV,EAAiBM,GAAS,QAAQ;AAC3D,IAAAA,EAAQ,iBAAiB,SAASG,GAAaJ,CAAY,GAC3DC,EAAQ,iBAAiB,QAAQI,GAAYL,CAAY;AAAA,EACjE,CAAK;AACD,EAAAC,EAAQ,iBAAiB,WAAWC,GAAeF,CAAY,GAI/DC,EAAQ,iBAAiB,QAAQ,MAAMA,EAAQ,oBAAoB,WAAWC,CAAa,GAAGF,CAAY;AAC9G;","x_google_ignoreList":[0]}