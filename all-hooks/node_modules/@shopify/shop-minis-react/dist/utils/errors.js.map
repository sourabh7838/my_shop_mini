{"version":3,"file":"errors.js","sources":["../../src/utils/errors.ts"],"sourcesContent":["interface MiniErrorSource {\n  component?: string\n  hook?: string\n  func?: string\n  callback?: string\n}\n\ninterface MiniErrorParams extends MiniErrorSource {\n  message: string\n}\n\n// Base class for all Mini errors\n// We can give richer error messages by using this throughout the SDK\n// In future we could add instrumentation to track these errors too\nexport class MiniError extends Error {\n  constructor({\n    component,\n    hook,\n    func,\n    callback,\n    message = 'Unknown Error',\n  }: MiniErrorParams) {\n    let formattedMessage = message\n\n    if (component || hook || func) {\n      if (component) {\n        formattedMessage = `<${component} />`\n      } else if (hook) {\n        formattedMessage = hook\n      } else if (func) {\n        formattedMessage = `${func}()`\n      }\n\n      if (callback) {\n        formattedMessage = `${formattedMessage} ${callback}()`\n      }\n\n      formattedMessage = `${formattedMessage}: ${message}`\n    }\n\n    super(formattedMessage)\n    this.name = 'MiniError'\n  }\n}\n\nexport class MiniNetworkError extends MiniError {\n  constructor(params: Partial<MiniErrorParams>) {\n    super({message: 'Network Error', ...params})\n    this.name = 'MiniNetworkError'\n  }\n}\n\nexport class MiniEntityNotFoundError extends MiniError {\n  constructor(params: Partial<MiniErrorParams>) {\n    super({message: 'Entity Not Found', ...params})\n    this.name = 'MiniEntityNotFoundError'\n  }\n}\n\nexport const formatError = (\n  source: MiniErrorSource,\n  error: any\n): MiniError | MiniNetworkError | null => {\n  if (!error) {\n    return null\n  }\n\n  if (error.networkError) {\n    return new MiniNetworkError({\n      ...source,\n      message: error.networkError?.message,\n    })\n  }\n\n  if (error.code) {\n    return new MiniError({\n      ...source,\n      message: `${error.code}${error.message ? `: ${error.message}` : ''}`,\n    })\n  }\n\n  return new MiniError({\n    ...source,\n    message: error?.message,\n  })\n}\n"],"names":["MiniError","component","hook","func","callback","message","formattedMessage","MiniNetworkError","params","MiniEntityNotFoundError","formatError","source","error"],"mappings":"AAcO,MAAMA,UAAkB,MAAM;AAAA,EACnC,YAAY;AAAA,IACV,WAAAC;AAAA,IACA,MAAAC;AAAA,IACA,MAAAC;AAAA,IACA,UAAAC;AAAA,IACA,SAAAC,IAAU;AAAA,EAAA,GACQ;AAClB,QAAIC,IAAmBD;AAEnB,KAAAJ,KAAaC,KAAQC,OACnBF,IACFK,IAAmB,IAAIL,CAAS,QACvBC,IACUI,IAAAJ,IACVC,MACTG,IAAmB,GAAGH,CAAI,OAGxBC,MACiBE,IAAA,GAAGA,CAAgB,IAAIF,CAAQ,OAGjCE,IAAA,GAAGA,CAAgB,KAAKD,CAAO,KAGpD,MAAMC,CAAgB,GACtB,KAAK,OAAO;AAAA,EAAA;AAEhB;AAEO,MAAMC,UAAyBP,EAAU;AAAA,EAC9C,YAAYQ,GAAkC;AAC5C,UAAM,EAAC,SAAS,iBAAiB,GAAGA,GAAO,GAC3C,KAAK,OAAO;AAAA,EAAA;AAEhB;AAEO,MAAMC,UAAgCT,EAAU;AAAA,EACrD,YAAYQ,GAAkC;AAC5C,UAAM,EAAC,SAAS,oBAAoB,GAAGA,GAAO,GAC9C,KAAK,OAAO;AAAA,EAAA;AAEhB;AAEa,MAAAE,IAAc,CACzBC,GACAC,MAEKA,IAIDA,EAAM,eACD,IAAIL,EAAiB;AAAA,EAC1B,GAAGI;AAAA,EACH,SAASC,EAAM,cAAc;AAAA,CAC9B,IAGCA,EAAM,OACD,IAAIZ,EAAU;AAAA,EACnB,GAAGW;AAAA,EACH,SAAS,GAAGC,EAAM,IAAI,GAAGA,EAAM,UAAU,KAAKA,EAAM,OAAO,KAAK,EAAE;AAAA,CACnE,IAGI,IAAIZ,EAAU;AAAA,EACnB,GAAGW;AAAA,EACH,SAASC,GAAO;AAAA,CACjB,IApBQ;"}