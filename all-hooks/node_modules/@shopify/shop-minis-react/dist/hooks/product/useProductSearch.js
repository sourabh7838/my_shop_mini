import { useState as S, useCallback as h, useEffect as y, useMemo as b } from "react";
import P from "../../_virtual/debounce.js";
import { useShopActions as g } from "../../internal/useShopActions.js";
import { useShopActionsPaginatedDataFetching as k } from "../../internal/useShopActionsPaginatedDataFetching.js";
const v = (r) => {
  const { getProductSearch: s } = g(), {
    query: e,
    filters: c,
    sortBy: u,
    includeSensitive: n = !1,
    skip: a = !1,
    ...d
  } = r ?? {}, [i, m] = S(e), t = h(
    P((p) => {
      m(p);
    }, 300),
    []
  );
  y(() => (t(e), () => {
    t.cancel();
  }), [e, t]);
  const { data: o, ...f } = k(
    s,
    {
      query: i,
      filters: c,
      sortBy: u,
      includeSensitive: n,
      ...d
    },
    {
      skip: a,
      hook: "useProductSearch"
    }
  ), l = b(() => o ?? null, [o]);
  return {
    ...f,
    products: l
  };
};
export {
  v as useProductSearch
};
//# sourceMappingURL=useProductSearch.js.map
