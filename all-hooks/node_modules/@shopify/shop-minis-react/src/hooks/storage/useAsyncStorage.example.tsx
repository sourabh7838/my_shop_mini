import {useEffect} from 'react'

import {useAsyncStorage} from '@shopify/shop-minis-react'

export default function MyComponent() {
  const {getItem, setItem, removeItem, getAllKeys, clear} = useAsyncStorage()

  useEffect(() => {
    async function handleStorageOperations() {
      // Get an item from storage
      const value = await getItem({key: 'myKey'})
      console.log({value})

      // Set an item in storage
      await setItem({key: 'myKey', value: 'Hello, World!'})

      // Remove an item from storage
      await removeItem({key: 'myKey'})

      // Get all keys in storage
      const keys = await getAllKeys()
      console.log({keys})

      // Clear all items from storage
      await clear()
    }

    handleStorageOperations()
  }, [getItem, removeItem, setItem, getAllKeys, clear])
}
