import {useCallback} from 'react'

import {useImageUpload, Button} from '@shopify/shop-minis-react'

export default function MyComponent() {
  const {uploadImage} = useImageUpload()

  const handleUpload = useCallback(async () => {
    const result = await uploadImage([
      {
        mimeType: 'image/jpeg',
        fileSize: 1024 * 1024, // 1MB
        uri: 'file://path/to/image.jpg',
      },
    ])
    console.log('Uploaded image:', result[0])
  }, [uploadImage])

  return <Button onPress={handleUpload} text="Upload image" />
}
