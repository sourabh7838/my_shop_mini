import {useEffect} from 'react'

import {useSecureStorage} from '@shopify/shop-minis-react'

export default function MyComponent() {
  const {getSecret, setSecret, removeSecret} = useSecureStorage()

  useEffect(() => {
    async function handleSecureStorageOperations() {
      // Get a secret from secure storage
      const secret = await getSecret()
      console.log({secret})

      // Set a secret in secure storage
      await setSecret({value: 'Sensitive Data'})

      // Remove a secret from secure storage
      await removeSecret()
    }

    handleSecureStorageOperations()
  }, [getSecret, setSecret, removeSecret])
}
