import {useShopActions} from '../../internal/useShopActions'
import {useShopActionsPaginatedDataFetching} from '../../internal/useShopActionsPaginatedDataFetching'
import {
  PaginatedDataHookOptionsBase,
  PaginatedDataHookReturnsBase,
  Order,
} from '../../types'

export interface UseOrdersParams extends PaginatedDataHookOptionsBase {}

export interface UseOrdersReturns extends PaginatedDataHookReturnsBase {
  orders: Order[] | null
}

export const useOrders = (params?: UseOrdersParams): UseOrdersReturns => {
  const {skip, ...shopActionParams} = params || {}
  const {getOrders} = useShopActions()

  const {data, ...rest} = useShopActionsPaginatedDataFetching(
    getOrders,
    shopActionParams,
    {
      skip,
      hook: 'useOrders',
    }
  )

  return {
    ...rest,
    orders: data,
  }
}
